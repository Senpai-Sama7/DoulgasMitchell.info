<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Douglas Mitchell — Portfolio</title>
  <meta name="description" content="Personal site and portfolio of Douglas Mitchell — immersive, cinematic, and refined." />
  <meta name="theme-color" content="#0b0f1a" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
  <style>
    /* ————— Design Tokens ————— */
    :root{
      --bg:#060913;--bg-soft:#0b1222;--text:#e7ecf3;--muted:#9fb0c2;--accent:#7aa8ff;--accent-2:#9d7aff;--glass:rgba(15,24,44,.35);--border:rgba(161,180,210,.14);--shadow:0 20px 80px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.04);--radius:22px;--ease:cubic-bezier(.22,.61,.36,1);
    }

    /* ————— Base & Layout ————— */
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{margin:0;background:var(--bg);color:var(--text);font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji;line-height:1.4;overflow-x:hidden;}
    a{color:inherit;text-decoration:none;transition:color .2s var(--ease);}
    .wrap{width:min(1200px, 94vw);margin:0 auto}
    .glass{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));backdrop-filter:blur(14px) saturate(1.1);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);transition:transform .3s var(--ease), box-shadow .3s var(--ease);}

    /* ————— Magical Space Canvas ————— */
    #space{position:fixed;inset:0;z-index:-2;display:block;cursor:crosshair;}

    /* ————— Extra ambient graphics (soft nebula + orbs) ————— */
    .ambient{position:fixed;inset:0;z-index:-1;pointer-events:none}
    .nebula, .orb, .icosahedron{position:absolute;border-radius:50%;}
    .nebula{background:conic-gradient(from 220deg, rgba(157,122,255,.5), rgba(122,168,255,.35), rgba(255,255,255,0) 70%);width:85vmax;height:85vmax;left:-20vmax;top:-10vmax;filter:blur(40px);opacity:.35;mix-blend-mode:screen;animation:slowspin 110s linear infinite}
    .orb.o1{background:radial-gradient(circle at 30% 30%, rgba(122,168,255,.45), transparent 60%);width:38vmin;height:38vmin;right:8vmin;top:18vmin;filter:blur(40px);opacity:.35;mix-blend-mode:screen;animation:float 9s ease-in-out infinite}
    .orb.o2{background:radial-gradient(circle at 60% 40%, rgba(157,122,255,.45), transparent 60%);width:28vmin;height:28vmin;left:6vmin;bottom:10vmin;filter:blur(40px);opacity:.35;mix-blend-mode:screen;animation:float 11s ease-in-out infinite reverse}
    .icosahedron{width:15vmin;height:15vmin;right:20vmin;bottom:25vmin;background:radial-gradient(circle at center, rgba(122, 168, 255, 0.1), transparent 60%);opacity:.8;animation:slowspin 25s linear infinite reverse;}
    .icosahedron::before{content:'';position:absolute;inset:10%;border:1px solid rgba(122, 168, 255, 0.3);border-radius:50%;clip-path:polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);animation:slowspin 15s linear infinite;}
    @keyframes slowspin{to{transform:rotate(1turn)}}
    @keyframes float{50%{transform:translateY(-12px)}}
    .gridlines{position:absolute;inset:0;background-image:linear-gradient(rgba(255,255,255,.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.05) 1px, transparent 1px);background-size:80px 80px, 80px 80px;mask-image:radial-gradient(70% 70% at 50% 40%, black, transparent 70%);opacity:.14;mix-blend-mode:soft-light;transform:perspective(600px) rotateX(50deg) translateY(-10%);filter:blur(.3px);}

    /* ————— Entrance “New-world Panels” ————— */
    .gate{position:fixed;inset:0;z-index:9999;overflow:hidden;background:#000;}
    .gate video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:saturate(1.2) contrast(1.05) brightness(.9)}
    .gate .veil{position:absolute;inset:0;background:radial-gradient(70vmax 50vmax at 50% 55%, rgba(120,150,255,.25), rgba(0,0,0,.75) 60%, rgba(0,0,0,.95));mix-blend-mode:screen}
    
    /* New Loader Styles */
    .gate .brand { position: absolute; z-index: 3; text-align: center; top: 50%; left: 50%; transform: translate(-50%, -50%); width: min(400px, 80vw); transition: all .5s var(--ease); }
    .gate h1{font-size:clamp(28px, 6vw, 48px);letter-spacing:.08em;text-transform:uppercase;font-weight:800;text-shadow:0 10px 36px rgba(0,0,0,.7); margin-bottom: 30px;}
    
    .loader-container { font-family: "JetBrains Mono", monospace; color: var(--accent); text-shadow: 0 0 8px rgba(122, 168, 255, 0.5); }
    .loader-bar { height: 4px; background: rgba(122, 168, 255, 0.15); border-radius: 4px; position: relative; overflow: hidden; }
    .loader-progress { position: absolute; top: 0; left: 0; height: 100%; width: 0%; background: var(--accent); border-radius: 4px; transition: width .1s linear; box-shadow: 0 0 10px var(--accent); }
    .loader-info { display: flex; justify-content: space-between; font-size: 12px; margin-top: 10px; opacity: 0.8; }
    
    .enter{margin-top:24px;padding:10px 20px;font-weight:600; font-size: 14px; border-radius:14px;border:1px solid var(--border);background:rgba(255,255,255,.06);cursor:pointer;pointer-events:auto;transition:all .2s var(--ease);}
    .enter:hover{background:rgba(255,255,255,.1);transform:scale(1.05);}

    .gate.reveal .brand{ animation:brandOut .5s var(--ease) forwards; }
    .gate.hide{opacity:0;visibility:hidden;transition:opacity .6s var(--ease) .3s;}
    @keyframes brandOut{to{opacity:0;transform:translate(-50%,-60%)}}

    /* ————— Sections, Hero, Buttons ————— */
    section{padding:80px 0}
    header{position:relative;padding:140px 0 80px;text-align:center;}
    .badge{display:inline-flex;align-items:center;gap:8px;padding:8px 14px;border:1px solid var(--border);background:rgba(255,255,255,.04);border-radius:999px;font-size:13px;color:var(--muted)}
    .title{font-size:clamp(40px,8vw,94px);font-weight:800;letter-spacing:-.02em;margin:20px 0 10px;line-height:1.1;}
    .subtitle{max-width:820px;font-size:clamp(16px,2.2vw,22px);color:var(--muted);margin:0 auto;}
    .cta{display:flex;justify-content:center;gap:14px;margin-top:32px; flex-wrap: wrap;}
    .btn{padding:14px 22px;border-radius:14px;font-weight:700;border:1px solid var(--border);transition:all .2s var(--ease);}
    .btn.primary{background:linear-gradient(90deg, rgba(122,168,255,.35), rgba(157,122,255,.35));}
    .btn:hover{transform:translateY(-2px);box-shadow:0 12px 40px rgba(0,0,0,.35),inset 0 1px 0 rgba(255,255,255,.08),0 0 0 1px rgba(122,168,255,.2);}
    .btn.primary:hover{box-shadow:0 12px 40px rgba(0,0,0,.35), 0 0 40px -10px var(--accent);}
    .btn:disabled{cursor:not-allowed;opacity:.6;}
    .section-title{font-size:clamp(22px,3vw,30px);margin:0 0 22px 6px}
    .grid{display:grid;grid-template-columns:repeat(12, 1fr);gap:24px}
    .card{grid-column:span 4;position:relative;overflow:hidden;padding:16px;min-height:280px;display:flex;flex-direction:column;border-radius:var(--radius)}
    .card:hover{transform:translateY(-4px)}
    .card .content{z-index:2;margin-top:auto}
    .kicker{font-size:12px;color:var(--muted);letter-spacing:.08em;text-transform:uppercase}
    .name{font-size:24px;font-weight:800;line-height:1.15;word-break:break-word}
    .meta{font-size:15px;color:var(--muted)}
    .card .halo{position:absolute;inset:-40%;background:radial-gradient(500px 400px at 20% 20%, rgba(122,168,255,.35), transparent 60%), radial-gradient(400px 320px at 80% 80%, rgba(157,122,255,.35), transparent 60%);filter:blur(40px);opacity:.7;transition:transform .4s var(--ease);}
    .card:hover .halo{transform:scale(1.15) rotate(-10deg)}
    .card.frame{padding:0}
    .card.frame .art-bg{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform .4s ease;}
    .card.frame:hover .art-bg{transform:scale(1.05);}
    .card.frame .overlay{position:absolute;inset:0;background:linear-gradient(to top, rgba(6,9,19,.85), rgba(6,9,19,.45) 40%, transparent 70%)}
    .card.frame .content{position:absolute;left:14px;right:14px;bottom:14px;z-index:2;padding:14px;border-radius:16px;background:rgba(6,9,19,.5);backdrop-filter:blur(8px);}
    .card.frame .name{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
    .card.frame .meta{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
    
    /* ————— Book Section ————— */
    #book-section .grid { align-items: center; justify-content: center; }
    #book-cover { grid-column: 2 / span 4; }
    #book-cover img { width: 100%; border-radius: var(--radius); }
    #book-details { grid-column: 6 / span 6; text-align: left; }
    #book-details .badge { display: inline-block; }
    .price-info{font-size:14px; margin-bottom: 8px;}
    .strong-brain-bg {
        position: absolute; inset: 0; z-index: -1;
        background-image: radial-gradient(circle at 45% 40%, var(--accent) 0%, transparent 15%), radial-gradient(circle at 55% 60%, var(--accent) 0%, transparent 15%);
        background-size: 40vmin 40vmin;
        background-repeat: no-repeat;
        background-position: center;
        opacity: 0.1;
        filter: blur(10px);
        mask-image: radial-gradient(circle at center, black 50%, transparent 75%);
    }
    .purchase-item { display: flex; flex-direction: column; align-items: center; gap: 8px; }

    /* ————— Data & Dashboards Section ————— */
    .chart-container { grid-column: span 6; padding: 24px; }
    .kpi-grid { grid-column: span 12; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
    .kpi-card { padding: 20px; text-align: center; }
    .kpi-value { font-size: 36px; font-weight: 800; color: var(--accent); }
    .kpi-label { font-size: 14px; color: var(--muted); }

    /* ————— Mini Game Section ————— */
    #game-container { grid-column: span 12; position: relative; aspect-ratio: 16/9; overflow: hidden; border-radius: var(--radius); }
    #game-canvas { display: block; width: 100%; height: 100%; background: #000; }
    #game-overlay { position: absolute; inset: 0; display: flex; flex-direction: column; justify-content: center; align-items: center; background: rgba(6,9,19,0.7); color: white; text-align: center; z-index: 10; opacity: 1; transition: opacity .5s ease; }
    #game-overlay.hidden { opacity: 0; pointer-events: none; }
    #game-score { position: absolute; top: 20px; left: 20px; font-size: 24px; font-weight: 600; z-index: 5; text-shadow: 0 0 5px #000; }
    
    /* ————— Interactive About Me ————— */
    #about-card {grid-column:span 12;padding:32px;min-height:400px;display:flex;flex-direction:column;overflow:hidden;}
    #about-slides-container {flex-grow:1;position:relative;}
    .about-slide {position:absolute;inset:0;opacity:0;visibility:hidden;transform:translateY(20px) scale(0.98);transition:all .5s var(--ease);display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;}
    .about-slide.active {opacity:1;visibility:visible;transform:translateY(0) scale(1);}
    .toolkit-grid {display:grid;grid-template-columns:repeat(auto-fit, minmax(100px, 1fr));gap:20px;width:80%;margin-top:20px;}
    .tool-item {color:var(--muted);font-weight:600;transition:color .3s var(--ease), transform .3s var(--ease);}
    .tool-item:hover {color:var(--accent);transform:scale(1.1);}
    #about-nav {margin-top:auto;padding-top:20px;display:flex;justify-content:space-between;align-items:center;}
    #about-nav .nav-btn {background:none;border:none;color:var(--muted);cursor:pointer;font-family:inherit;font-size:14px;font-weight:600;padding:8px 16px;border-radius:99px;transition:all .3s var(--ease);}
    #about-nav .nav-btn:hover {background:rgba(255,255,255,0.05);color:var(--text);}
    #about-nav .nav-btn:disabled {opacity:0.3;cursor:not-allowed;}
    .slide-dots {display:flex;gap:8px;}
    .slide-dot {width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,0.2);transition:background .3s var(--ease);}
    .slide-dot.active {background:var(--accent);}

    /* ————— Other Sections ————— */
    .repo-list{display:grid;grid-template-columns:repeat(12, 1fr);gap:18px}
    .repo{grid-column:span 4;padding:18px;min-height:160px;display:flex;flex-direction:column}
    #gemini-ideator{text-align:center;}
    #idea-container{grid-column:3 / span 8;min-height:200px;padding:24px;margin-top:24px;text-align:left;display:flex;flex-direction:column;justify-content:center;opacity:0;transform:scale(0.95);transition:opacity .5s var(--ease), transform .5s var(--ease);}
    #idea-container.visible{opacity:1;transform:scale(1);}
    .reveal{opacity:0;transform:translateY(16px);transition:all 1s var(--ease)}
    .reveal.on{opacity:1;transform:none}
    footer{padding:60px 0 80px;color:var(--muted);text-align:center}
    .tiny{font-family:"JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;font-size:12px}

    /* ————— Responsive Breakpoints ————— */
    @media (max-width: 980px){
      .card, .repo, #idea-container, .chart-container {grid-column:span 6}
      #book-cover, #book-details { grid-column: span 12; text-align: center; }
      #book-details .cta { justify-content: center; }
      #idea-container {grid-column: 2 / span 10;}
    }
    @media (max-width: 680px){
      .card, .repo, #idea-container, .chart-container {grid-column:span 12}
      #idea-container {grid-column: 1 / span 12;}
      header{padding-top:110px}
      .cta{flex-direction:column;}
      .toolkit-grid {width:100%;}
    }
  </style>
</head>
<body data-github-user="senpai-sama7">

  <canvas id="space" aria-hidden="true"></canvas>
  <div class="ambient" aria-hidden="true"><div class="nebula"></div><div class="orb o1"></div><div class="orb o2"></div><div class="icosahedron"></div><div class="gridlines"></div></div>

  <div class="gate" id="gate" aria-hidden="true">
    <video id="introVideo" autoplay playsinline muted loop><source src="https://cdn.coverr.co/videos/coverr-starry-sky-8428/1080p.mp4" type="video/mp4" /></video>
    <div class="veil"></div>
    <div class="brand">
        <h1>Douglas Mitchell</h1>
        <div class="loader-container">
            <div class="loader-bar">
                <div id="loaderProgress" class="loader-progress"></div>
            </div>
            <div class="loader-info">
                <span id="loaderStatus">SYSTEM CHECK...</span>
                <span id="loaderPercentage">0%</span>
            </div>
        </div>
        <button class="enter" id="enterBtn" aria-label="Enter site">Skip</button>
    </div>
  </div>

  <main>
    <header id="scene-hero" class="wrap">
      <span class="badge reveal">Portfolio • Focus: <strong style="margin-left:6px; color: var(--accent);">Creative Technology</strong></span>
      <h1 class="title reveal" style="transition-delay: .1s">Douglas Mitchell</h1>
      <p class="subtitle reveal" style="transition-delay: .2s">A passionate designer and developer crafting calm, cinematic, and intuitive web experiences. Meticulous about detail, obsessed with clarity, and driven by the pursuit of digital craftsmanship.</p>
      <div class="cta reveal" style="transition-delay: .3s">
        <a class="btn primary glass" href="#scene-projects">Explore Projects</a>
        <a class="btn glass" href="#book-section">View My Book</a>
        <a class="btn glass" href="https://www.linkedin.com/in/douglas-mitchell-bb18b1383" target="_blank" rel="noopener">Connect on LinkedIn</a>
        <a class="btn glass" href="https://github.com/Senpai-Sama7" target="_blank" rel="noopener">GitHub</a>
      </div>
    </header>

    <section id="scene-projects" class="wrap">
        <h3 class="section-title reveal">Selected Work</h3>
        <div class="grid">
            <a class="card frame glass reveal" href="https://senpai-sama7.github.io/C0Di3/" target="_blank" rel="noopener">
                <img class="art-bg" src="assets/C0Di3.png" alt="C0Di3 logo" />
                <div class="overlay"></div>
                <div class="content"><span class="kicker">Live • Front-end</span><div class="name">C0Di3</div><div class="meta">An immersive, interactive coding environment designed to teach programming concepts through a unique, narrative-driven experience.</div></div>
            </a>
            <a class="card frame glass reveal" href="https://synapse-form-backend.vercel.app/" target="_blank" rel="noopener" style="transition-delay: .1s">
                <img class="art-bg" src="assets/synapse.jpeg" alt="Synapse Form abstract art" />
                <div class="overlay"></div>
                <div class="content"><span class="kicker">Live • API / Backend</span><div class="name">Synapse Form</div><div class="meta">A robust and minimal form backend service providing reliable data handling, validation, and integration for modern web applications.</div></div>
            </a>
            <a class="card frame glass reveal" href="https://senpai-sama7.github.io/Houston-Oil-Airs/" target="_blank" rel="noopener" style="transition-delay: .2s">
                <img class="art-bg" src="assets/HOA.jpeg" alt="Houston Oil Airs data visualization" />
                <div class="overlay"></div><div class="content"><span class="kicker">Live • Data-viz</span><div class="name">Houston Oil Airs</div><div class="meta">An interactive data visualization project presenting an environmental snapshot of air quality metrics related to the oil industry in Houston.</div></div>
            </a>
      </div>
    </section>
    
    <section id="scene-book" class="wrap" style="position: relative;">
      <div class="strong-brain-bg"></div>
      <h3 class="section-title reveal">My Book: Now Available</h3>
      <div id="book-section" class="grid">
        <div id="book-cover" class="reveal" style="transition-delay: .1s">
         <img src="assets/cover.jpg" alt="The Confident Mind book cover" />
        </div>
        <div id="book-details" class="reveal" style="transition-delay: .3s">
          <h2 class="name">The Confident Mind</h2>
          <span class="badge" style="margin: 10px 0;">Self-Help • Psychology • Personal Growth</span>
          <p class="meta" style="max-width: 60ch; margin: 20px 0;">A practical manual to repair, build, and sustain authentic confidence. This book provides actionable strategies to overcome self-doubt and master your mindset.</p>
          
          <div class="cta" style="margin-top: 24px; align-items: flex-start;">
            <div class="purchase-item">
              <div class="price-info">
                <strong>eBook:</strong> $6.99 <s style="color:var(--muted);">$10.99</s>
              </div>
              <a class="btn primary glass" href="https://buy.stripe.com/eVq00j15IfFO0js89Q4ko01" target="_blank" rel="noopener">Buy eBook</a>
            </div>
            <div class="purchase-item">
              <div class="price-info">
                <strong>Hardcover:</strong> $12.99 <s style="color:var(--muted);">$19.99</s>
              </div>
              <a class="btn primary glass" href="https://buy.stripe.com/14AfZheWy1OY7LU4XE4ko00" target="_blank" rel="noopener">Buy Hardcover</a>
            </div>
            <a href="https://senpai-sama7.github.io/The-Confident-Mind---BONUS/" target="_blank" rel="noopener" class="btn glass">Landing Page & Bonuses</a>
            <a href="qr.html" class="btn glass">Audio/Video Overview</a>
          </div>
          
           <p class="meta" style="margin-top: 24px;">Also available on <a href="https://www.amazon.com/s?k=The+Confident+Mind+Douglas+Mitchell" target="_blank" rel="noopener" style="text-decoration: underline; color: var(--accent);">Amazon</a>.</p>

        </div>
      </div>
    </section>

    <section id="scene-dashboard" class="wrap">
        <h3 class="section-title reveal">Data & Dashboards</h3>
        <div class="grid">
            <div class="kpi-grid reveal">
                <div class="kpi-card glass"><div class="kpi-value" id="kpi-1">0</div><div class="kpi-label">Lines of Code Written</div></div>
                <div class="kpi-card glass"><div class="kpi-value" id="kpi-2">0</div><div class="kpi-label">Project Completion Rate</div></div>
                <div class="kpi-card glass"><div class="kpi-value" id="kpi-3">0</div><div class="kpi-label">Happy Freelance Clients</div></div>
                <div class="kpi-card glass"><div class="kpi-value" id="kpi-4">0</div><div class="kpi-label">Cups of Coffee</div></div>
            </div>
            <div class="chart-container glass reveal"><canvas id="skillsChart"></canvas></div>
            <div class="chart-container glass reveal"><canvas id="activityChart"></canvas></div>
        </div>
    </section>

    <section id="scene-game" class="wrap">
        <h3 class="section-title reveal">Mini-Game: Astro-Aviator</h3>
        <div class="grid">
            <div id="game-container" class="glass reveal">
                <div id="game-overlay">
                    <h2 class="name">Astro-Aviator</h2>
                    <p class="meta">Use your mouse to navigate and click to shoot. Survive the asteroid field!</p>
                    <button id="startGameBtn" class="btn primary glass" style="margin-top: 20px;">Start Game</button>
                </div>
                <div id="game-score" style="display: none;">Score: 0</div>
                <canvas id="game-canvas"></canvas>
            </div>
        </div>
    </section>

    <section id="scene-about" class="wrap">
      <div class="grid">
          <div id="about-card" class="card glass reveal">
              <div id="about-slides-container">
                <div class="about-slide active" data-slide="0">
                  <h3 class="name">The Philosophy</h3>
                  <p class="meta" style="max-width: 60ch;">I believe technology should feel like magic. My work focuses on creating fluid, intuitive interfaces that are not only functional but also delightful to use. It's about blending artistry with logic to build experiences that resonate.</p>
                </div>
                <div class="about-slide" data-slide="1">
                  <h3 class="name">The Toolkit</h3>
                  <div class="toolkit-grid">
                    <span class="tool-item">JavaScript (ES6+)</span>
                    <span class="tool-item">React & Next.js</span>
                    <span class="tool-item">Node.js</span>
                    <span class="tool-item">CSS / GSAP</span>
                    <span class="tool-item">Three.js / WebGL</span>
                    <span class="tool-item">APIs & GraphQL</span>
                    <span class="tool-item">Figma</span>
                    <span class="tool-item">Git & CI/CD</span>
                  </div>
                </div>
                <div class="about-slide" data-slide="2">
                  <h3 class="name">The Mission</h3>
                  <p class="meta" style="max-width: 60ch;">To build a more beautiful and humane digital world. My goal is to craft applications that respect the user's attention, inspire curiosity, and push the boundaries of what's possible on the web.</p>
                </div>
              </div>
              <div id="about-nav">
                <button id="about-prev" class="nav-btn">Back</button>
                <div class="slide-dots">
                  <span class="slide-dot active" data-dot="0"></span>
                  <span class="slide-dot" data-dot="1"></span>
                  <span class="slide-dot" data-dot="2"></span>
                </div>
                <button id="about-next" class="nav-btn">Next</button>
              </div>
          </div>
      </div>
    </section>

    <section id="scene-github" class="wrap">
      <h3 class="section-title reveal">Latest from GitHub</h3>
      <div id="repos" class="repo-list"><p class="reveal" style="color: var(--muted);">Fetching repositories...</p></div>
    </section>

    <section id="gemini-ideator" class="wrap">
        <div class="reveal">
            <h3 class="section-title" style="text-align:center;">AI Project Ideator</h3>
            <p class="subtitle" style="margin-bottom: 24px;">Feeling uninspired? Let a pre-trained model brainstorm a unique project idea tailored to my skill set. Press the button to generate a new concept.</p>
            <button id="generateIdeaBtn" class="btn primary glass">Generate Idea ✨</button>
        </div>
        <div class="grid">
            <div id="idea-container" class="card glass">
                <p class="meta" style="text-align: center;">Your next great idea will appear here...</p>
            </div>
        </div>
    </section>
  </main>

  <footer class="wrap">
      <div class="tiny">© <span id="year"></span> Douglas Mitchell. Built with semantic HTML, modern CSS, and a dusting of JavaScript.</div>
  </footer>

  <script>
    // Global settings & helpers
    const preferReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const lerp = (a, b, n) => (1 - n) * a + n * b;

    // ————— Gate Logic —————
    function initGate() {
        const gate = document.getElementById('gate');
        const enterBtn = document.getElementById('enterBtn');
        const introVideo = document.getElementById('introVideo');
        const loaderProgress = document.getElementById('loaderProgress');
        const loaderPercentage = document.getElementById('loaderPercentage');
        const loaderStatus = document.getElementById('loaderStatus');
        
        if (!gate || !enterBtn || !loaderProgress || !loaderPercentage || !loaderStatus) return;

        document.body.style.overflow = 'hidden';
        let progress = 0;
        let loaderInterval = null;

        const statusMessages = [
            { pct: 0, msg: "SYSTEM CHECK..." },
            { pct: 25, msg: "INITIALIZING STARFIELD..." },
            { pct: 50, msg: "CALIBRATING WARP DRIVE..." },
            { pct: 75, msg: "ENGAGING..." },
            { pct: 100, msg: "WELCOME." }
        ];

        function updateLoader() {
            progress += 1;
            
            const currentStatus = statusMessages.slice().reverse().find(s => progress >= s.pct);
            if (currentStatus) {
                loaderStatus.textContent = currentStatus.msg;
            }

            loaderProgress.style.width = `${progress}%`;
            loaderPercentage.textContent = `${progress}%`;

            if (progress >= 100) {
                clearInterval(loaderInterval);
                setTimeout(revealGate, 500);
            }
        }

        function revealGate() {
            document.body.style.overflow = '';
            if (!gate.classList.contains('reveal')) {
                gate.classList.add('reveal');
                setTimeout(() => gate.classList.add('hide'), 800);
            }
        }

        function startLoader() {
            if (loaderInterval) return;
            loaderInterval = setInterval(updateLoader, 35);
        }

        function skipLoader() {
            clearInterval(loaderInterval);
            loaderProgress.style.transition = 'width .5s var(--ease)';
            loaderProgress.style.width = '100%';
            loaderPercentage.textContent = '100%';
            loaderStatus.textContent = 'WELCOME.';
            setTimeout(revealGate, 500);
        }

        enterBtn.addEventListener('click', skipLoader);
        introVideo?.addEventListener('canplay', startLoader);

        // Fallback if video event doesn't fire
        setTimeout(() => {
            if (!loaderInterval) startLoader();
        }, 1000);
    }
    
    // ————— Space Canvas Fly-through —————
    function initSpaceCanvas() {
        const canvas = document.getElementById('space');
        if (!canvas) return;
        const ctx = canvas.getContext('2d');
        let w, h, dpr, stars = [], particles = [];
        const mouse = { x: window.innerWidth / 2, y: window.innerHeight / 2, easedX: window.innerWidth/2, easedY: window.innerHeight/2 };
        const scenes = [
            { id: 'hero', speed: 0.5, starCount: 250, tint: { r: 6, g: 9, b: 19, a: 0.1 } },
            { id: 'projects', speed: 1.5, starCount: 400, tint: { r: 157, g: 122, b: 255, a: 0.15 } },
            { id: 'book', speed: 1, starCount: 300, tint: { r: 255, g: 200, b: 150, a: 0.08 } },
            { id: 'dashboard', speed: 3, starCount: 350, tint: { r: 100, g: 220, b: 200, a: 0.1 } },
            { id: 'game', speed: 6, starCount: 450, tint: { r: 255, g: 100, b: 100, a: 0.12 } },
            { id: 'about', speed: 8, starCount: 500, tint: { r: 122, g: 168, b: 255, a: 0.1 } },
            { id: 'github', speed: 0.8, starCount: 300, tint: { r: 231, g: 236, b: 243, a: 0.08 } }
        ];
        let sceneBoundaries = [], currentSceneIndex = 0;
        let currentState = JSON.parse(JSON.stringify(scenes[0]));

        function resize() {
            dpr = Math.min(window.devicePixelRatio || 1, 2);
            w = canvas.width = window.innerWidth * dpr;
            h = canvas.height = window.innerHeight * dpr;
            canvas.style.width = window.innerWidth + 'px';
            canvas.style.height = window.innerHeight + 'px';
            ctx.scale(dpr,dpr);
        }
        
        function calculateBoundaries() {
            sceneBoundaries = scenes.map(s => {
                const el = document.getElementById(`scene-${s.id}`);
                return el ? el.offsetTop + el.offsetHeight / 2 : 0;
            }).filter(b => b > 0);
        }
        
        function init() {
            resize();
            stars = [];
            const maxStars = scenes.reduce((max, s) => Math.max(max, s.starCount), 0);
            for(let i = 0; i < maxStars; i++) stars.push({ x: Math.random()*window.innerWidth, y: Math.random()*window.innerHeight, px:0, py:0, z: Math.random()*0.8+0.2, r: Math.random()*1.8+.2 });
            calculateBoundaries();
        }

        function updateScene() {
            const scrollY = window.scrollY + window.innerHeight / 2;
            let newIndex = 0;
            for (let i = sceneBoundaries.length - 1; i >= 0; i--) {
                if (scrollY >= sceneBoundaries[i]) {
                    newIndex = i;
                    break;
                }
            }
            currentSceneIndex = newIndex;
        }

        function draw() {
            const targetState = scenes[currentSceneIndex];
            const lerpFactor = 0.04;
            currentState.speed = lerp(currentState.speed, targetState.speed, lerpFactor);
            currentState.starCount = lerp(currentState.starCount, targetState.starCount, lerpFactor);
            currentState.tint.r = lerp(currentState.tint.r, targetState.tint.r, lerpFactor);
            currentState.tint.g = lerp(currentState.tint.g, targetState.tint.g, lerpFactor);
            currentState.tint.b = lerp(currentState.tint.b, targetState.tint.b, lerpFactor);
            currentState.tint.a = lerp(currentState.tint.a, targetState.tint.a, lerpFactor);

            ctx.clearRect(0,0,window.innerWidth,window.innerHeight);
            const {r,g,b,a} = currentState.tint;
            ctx.fillStyle = `rgba(${r.toFixed(0)}, ${g.toFixed(0)}, ${b.toFixed(0)}, ${a.toFixed(3)})`;
            ctx.fillRect(0,0,window.innerWidth, window.innerHeight);
            
            mouse.easedX = lerp(mouse.easedX, mouse.x, 0.05);
            mouse.easedY = lerp(mouse.easedY, mouse.y, 0.05);

            for(let i = 0; i < Math.floor(currentState.starCount); i++) {
                const s = stars[i];
                const parallaxX = (mouse.easedX - window.innerWidth / 2) * (s.z * 0.05);
                const parallaxY = (mouse.easedY - window.innerHeight / 2) * (s.z * 0.05);
                s.px = s.x; s.py = s.y;
                s.x += s.z * currentState.speed;
                if(s.x > window.innerWidth+10) { s.x = -10; s.y = Math.random() * window.innerHeight; s.px = s.x; }
                
                const alpha = 0.85 * s.z;
                ctx.fillStyle = `rgba(231,236,243,${alpha})`;
                ctx.beginPath();
                ctx.arc(s.x + parallaxX, s.y + parallaxY, s.r * s.z, 0, Math.PI*2);
                ctx.fill();

                if (currentState.speed > 4) {
                    ctx.strokeStyle = `rgba(231,236,243,${alpha * 0.5})`;
                    ctx.lineWidth = s.r * s.z;
                    ctx.beginPath();
                    ctx.moveTo(s.px + parallaxX, s.py + parallaxY);
                    ctx.lineTo(s.x + parallaxX, s.y + parallaxY);
                    ctx.stroke();
                }
            }

            if(!preferReduced) requestAnimationFrame(draw);
        }
        
        init();
        draw();
        window.addEventListener('resize', init);
        window.addEventListener('scroll', updateScene);
        window.addEventListener('mousemove', e => { mouse.x = e.clientX; mouse.y = e.clientY; });
    }
    
    // ————— Dashboard Charts & KPIs —————
    function initDashboard() {
        const counters = [
            {el:document.getElementById('kpi-1'), val:7000, suffix: 'K+', start:0, speed: 50},
            {el:document.getElementById('kpi-2'), val:100, suffix: '%', start:0, speed: 20},
            {el:document.getElementById('kpi-3'), val:3, suffix: '', start:0, speed: 300},
            {el:document.getElementById('kpi-4'), val:1200, suffix: 'K', start: 0, speed: 30}
        ];
        
        const animateKPI = (c) => {
            let current = c.start;
            const step = c.val / (1000 / c.speed);
            const timer = setInterval(() => {
                current += step;
                if (current >= c.val) {
                    clearInterval(timer);
                    current = c.val;
                }
                if (c.suffix === 'K+') c.el.textContent = `${(current/1000).toFixed(1)}K+`;
                else if (c.suffix === 'K') c.el.textContent = `${(current/1000).toFixed(1)}K`;
                else c.el.textContent = `${Math.ceil(current)}${c.suffix}`;
            }, c.speed);
        };
        
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if(entry.isIntersecting) {
                    counters.forEach(animateKPI);
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.5 });
        const kpiGrid = document.querySelector('.kpi-grid');
        if(kpiGrid) observer.observe(kpiGrid);

        const chartCtx1 = document.getElementById('skillsChart')?.getContext('2d');
        const chartCtx2 = document.getElementById('activityChart')?.getContext('2d');
        
        const commonChartOptions = {
            plugins: { legend: { display: false } },
        };

        if (chartCtx1) new Chart(chartCtx1, {
            type: 'radar',
            data: { labels: ['Design', 'Frontend', 'Backend', 'Animation', 'UX/UI', 'DevOps'],
                datasets: [{ label: 'Skill Level', data: [90, 95, 75, 85, 92, 60], backgroundColor: 'rgba(122, 168, 255, 0.2)', borderColor: 'rgba(122, 168, 255, 1)', pointBackgroundColor: 'rgba(122, 168, 255, 1)' }]
            },
            options: { ...commonChartOptions, scales: { r: { angleLines: { color: 'var(--border)' }, grid: { color: 'var(--border)' }, pointLabels: { color: 'var(--muted)' }, ticks: { display: false } } } }
        });

        if (chartCtx2) new Chart(chartCtx2, {
            type: 'line',
            data: { labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [{ label: 'Commits', data: [65, 59, 80, 81, 56, 55], fill: true, backgroundColor: 'rgba(157, 122, 255, 0.2)', borderColor: 'rgba(157, 122, 255, 1)', tension: 0.4 }]
            },
            options: {
                ...commonChartOptions,
                scales: { 
                    x: { ticks: { color: 'var(--muted)' }, grid: { color: 'var(--border)' } }, 
                    y: { 
                        ticks: {
                            color: 'var(--muted)',
                            stepSize: 5
                        },
                        grid: { color: 'var(--border)' },
                        suggestedMin: 50 
                    } 
                }
            }
        });
    }
    
    // ————— Mini Game Logic —————
    function initAstroAviator() {
        const container = document.getElementById('game-container');
        const canvas = document.getElementById('game-canvas');
        const overlay = document.getElementById('game-overlay');
        const scoreEl = document.getElementById('game-score');
        const startBtn = document.getElementById('startGameBtn');
        if (!canvas || !container) return;
        const ctx = canvas.getContext('2d');
        
        let player, asteroids, score, gameOver, animationFrame;
        let bullets, powerUps, lastShotTime = 0, shootCooldown = 250; // default cooldown in ms
        const playerSize = 15;
        const mouse = { x: 0, y: 0 };

        function resize() {
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
        }

        function initGame() {
            resize();
            player = { x: canvas.width / 4, y: canvas.height / 2 };
            asteroids = [];
            bullets = [];
            powerUps = [];
            score = 0;
            gameOver = false;
            shootCooldown = 250;
            scoreEl.textContent = 'Score: 0';
            scoreEl.style.display = 'block';
            overlay.classList.add('hidden');
            if (animationFrame) cancelAnimationFrame(animationFrame);
            gameLoop();
        }

        function gameLoop() {
            if (gameOver) {
                overlay.classList.remove('hidden');
                overlay.querySelector('.name').textContent = 'Game Over!';
                overlay.querySelector('.meta').textContent = `Final Score: ${score}`;
                overlay.querySelector('button').textContent = 'Play Again';
                scoreEl.style.display = 'none';
                return;
            }

            const now = Date.now();
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Player
            player.x = lerp(player.x, mouse.x, 0.08);
            player.y = lerp(player.y, mouse.y, 0.08);
            ctx.fillStyle = 'white';
            ctx.beginPath();
            ctx.moveTo(player.x + playerSize, player.y);
            ctx.lineTo(player.x - playerSize, player.y - playerSize * 0.8);
            ctx.lineTo(player.x - playerSize, player.y + playerSize * 0.8);
            ctx.closePath();
            ctx.fill();
            
            // Bullets
            for(let i = bullets.length - 1; i >= 0; i--) {
                const b = bullets[i];
                b.x += 10;
                ctx.fillStyle = 'cyan';
                ctx.fillRect(b.x, b.y - 2, 10, 4);
                if(b.x > canvas.width) bullets.splice(i, 1);
            }

            // PowerUps
            for(let i = powerUps.length - 1; i >= 0; i--) {
                const p = powerUps[i];
                p.x -= 1; // drift left
                ctx.fillStyle = p.color;
                ctx.beginPath();
                ctx.arc(p.x, p.y, 10, 0, Math.PI * 2);
                ctx.fill();
                ctx.strokeStyle = 'white';
                ctx.stroke();
                
                // PowerUp collection
                if (Math.hypot(player.x - p.x, player.y - p.y) < playerSize + 10) {
                    activatePowerUp(p.type);
                    powerUps.splice(i, 1);
                } else if (p.x < -10) {
                    powerUps.splice(i, 1);
                }
            }

            // Asteroids
            if (Math.random() < 0.03 + (score / 10000)) { // Increase spawn rate over time
                asteroids.push({
                    x: canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 25 + 10,
                    speed: Math.random() * 2 + 1
                });
            }

            for (let i = asteroids.length - 1; i >= 0; i--) {
                const a = asteroids[i];
                a.x -= a.speed;
                ctx.strokeStyle = '#9fb0c2';
                ctx.lineWidth = 2;
                ctx.strokeRect(a.x, a.y, a.size, a.size);

                // Check bullet collision
                let hit = false;
                for (let j = bullets.length - 1; j >= 0; j--) {
                    const b = bullets[j];
                    if (b.x > a.x && b.x < a.x + a.size && b.y > a.y && b.y < a.y + a.size) {
                        bullets.splice(j, 1);
                        hit = true;
                        break;
                    }
                }
                
                if (hit) {
                    // Chance to drop power-up
                    if (Math.random() < 0.2) { // 20% chance
                        powerUps.push({x: a.x, y: a.y, type: 'rapidFire', color: '#ffdd00'});
                    }
                    asteroids.splice(i, 1);
                    score += 100;
                } else if (a.x + a.size < 0) {
                    asteroids.splice(i, 1);
                } else if (Math.hypot(player.x - (a.x + a.size/2), player.y - (a.y + a.size/2)) < playerSize + a.size/2) {
                    gameOver = true;
                }
            }
            
            score++;
            scoreEl.textContent = `Score: ${score}`;
            animationFrame = requestAnimationFrame(gameLoop);
        }

        function shoot() {
            const now = Date.now();
            if (now - lastShotTime > shootCooldown) {
                lastShotTime = now;
                bullets.push({x: player.x + playerSize, y: player.y});
            }
        }
        
        function activatePowerUp(type) {
            if (type === 'rapidFire') {
                shootCooldown = 100; // faster shooting
                setTimeout(() => {
                    shootCooldown = 250; // revert after 5 seconds
                }, 5000);
            }
        }

        startBtn.addEventListener('click', initGame);
        container.addEventListener('click', shoot);
        container.addEventListener('mousemove', e => {
            const rect = canvas.getBoundingClientRect();
            mouse.x = e.clientX - rect.left;
            mouse.y = e.clientY - rect.top;
        });
        window.addEventListener('resize', resize);
    }
    
    // ————— Init other sections (About, GitHub, Gemini) —————
    function initAboutDeck() {
        const prevBtn = document.getElementById('about-prev'); const nextBtn = document.getElementById('about-next'); const slides = document.querySelectorAll('.about-slide'); const dots = document.querySelectorAll('.slide-dot'); let currentSlide = 0; const totalSlides = slides.length;
        function updateSlides() { slides.forEach((s, i) => s.classList.toggle('active', i === currentSlide)); dots.forEach((d, i) => d.classList.toggle('active', i === currentSlide)); prevBtn.disabled = currentSlide === 0; nextBtn.disabled = currentSlide === totalSlides - 1; }
        nextBtn?.addEventListener('click', () => { if (currentSlide < totalSlides - 1) { currentSlide++; updateSlides(); } });
        prevBtn?.addEventListener('click', () => { if (currentSlide > 0) { currentSlide--; updateSlides(); } });
        updateSlides();
    }
    async function loadRepos(){
      const user = document.body.dataset.githubUser || 'senpai-sama7'; const target = document.getElementById('repos'); if(!target) return;
      try{
        const res = await fetch(`https://api.github.com/users/${user}/repos?sort=updated&per_page=6`); if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`); const data = await res.json(); target.innerHTML = ''; if (!data || data.length === 0) { target.innerHTML = `<p class="reveal on" style="color: var(--muted);">No public repositories found.</p>`; return; }
        data.slice(0,6).forEach((r, i) => { 
            const el = document.createElement('a'); 
            el.className = 'repo glass reveal'; 
            el.href = r.html_url; 
            el.target = "_blank"; 
            el.rel = "noopener"; 
            el.style.transitionDelay = `${i * 0.05}s`; 

            if (r.description) {
                el.innerHTML = `<h4>${r.name}</h4><p>${r.description}</p><p class="tiny" style="margin-top:auto;opacity:.8">★ ${r.stargazers_count} • ${r.language || '—'}</p>`;
            } else {
                el.style.justifyContent = 'center';
                el.style.alignItems = 'center';
                el.style.textAlign = 'center';
                el.innerHTML = `<h4>${r.name}</h4><p class="tiny" style="margin-top:10px;opacity:.8">★ ${r.stargazers_count} • ${r.language || '—'}</p>`;
            }

            target.appendChild(el); 
            setTimeout(() => el.classList.add('on'), 50); 
        });
        const io = new IntersectionObserver(entries=>{ entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('on'); io.unobserve(e.target); } }); }, {threshold:.1});
        target.querySelectorAll('.reveal').forEach(el=> io.observe(el));
      }catch(err){ console.warn('GitHub API error', err); target.innerHTML = `<p class="reveal on" style="color: var(--muted);">Could not load projects from GitHub.</p>`; }
    }
    function initGeminiIdeator() {
        const generateIdeaBtn = document.getElementById('generateIdeaBtn');
        const ideaContainer = document.getElementById('idea-container');
        if(!generateIdeaBtn || !ideaContainer) return;

        const projectIdeas = [
            { title: "Celestial Soundscape", pitch: "An interactive 3D solar system where each planet generates a unique ambient sound based on its real data.", description: "Users can navigate a Three.js scene of our solar system. Clicking on a planet reveals key facts and triggers a unique sound loop generated by its properties (e.g., size, temperature, rotation speed), creating a calming, educational experience.", technologies: ["Three.js", "Web Audio API", "NASA API", "GSAP"] },
            { title: "Sentiment Aurora", pitch: "A real-time data visualization that transforms live social media sentiment into a flowing, aurora-like animation.", description: "This project pulls live data from an API (like Twitter/X or Reddit) for a specific topic, analyzes the sentiment of each post, and maps it to the color, intensity, and movement of a WebGL shader animation, creating a beautiful, living artwork of public opinion.", technologies: ["WebGL (Shaders)", "Twitter/Reddit API", "Sentiment Analysis", "WebSockets"] },
            { title: "AI Dungeon Master's Atlas", pitch: "A generative map and story creator for tabletop RPGs, powered by procedural generation.", description: "An interactive map where users can generate continents, towns, and dungeons. Clicking a location uses a lightweight AI model to generate a brief history, key characters, and a plot hook, providing endless inspiration for game masters.", technologies: ["Procedural Generation", "Leaflet.js / Mapbox", "Node.js", "AI Text Gen"] },
            { title: "Typographic Animator", pitch: "A tool that allows users to create stunning, code-based text animations without writing any code.", description: "A user-friendly interface for controlling advanced text animation libraries (like GSAP's TextPlugin). Users can type text, adjust parameters like timing, easing, and effects via sliders, and export the resulting animation as CSS or a video.", technologies: ["GSAP", "Canvas API", "UI/UX Design", "FileSaver.js"] },
            { title: "GitHub Orbit", pitch: "Visualize a user's GitHub contribution history as an interactive 3D network of repositories and commits.", description: "Fetches a user's GitHub data and renders it as a force-directed graph in 3D space. Repositories are nodes, and commits are particles flowing between the user and the nodes, with the size and activity of nodes representing their importance.", technologies: ["Three.js", "GitHub API", "Data Visualization", "d3-force-3d"] },
            { title: "Echoes of the Past", pitch: "A historical map that lets you explore and listen to significant events through time.", description: "Users slide a timeline, and a world map updates to show geo-tagged historical events for that era. Clicking an event marker plays a short, AI-generated audio clip narrating the event from a first-person perspective, sourced from historical data APIs.", technologies: ["Mapbox GL JS", "Wikipedia API", "Web Speech API", "Node.js"] },
            { title: "Bio-Symphony", pitch: "A relaxing web app that generates an infinite, evolving ambient soundscape based on biological patterns.", description: "Uses principles of cellular automata (like Conway's Game of Life) to drive a generative music engine. The state of the 'cells' on a grid determines which musical notes and sound textures are played, creating a unique and endless symphony.", technologies: ["Web Audio API", "Canvas API", "Tone.js", "Generative Algorithms"] },
            { title: "Shader Sketchpad", pitch: "An online, minimalist playground for creating and sharing GLSL shader art.", description: "A simple code editor on one side and a live preview canvas on the other. Users can write fragment shaders, see the results instantly, and share a unique URL that saves their code, allowing others to view and fork their creations.", technologies: ["WebGL", "GLSL", "CodeMirror", "Firebase/Supabase"] },
            { title: "Personal Data Portrait", pitch: "A tool that connects to your Spotify or Strava account and generates a unique, artistic 3D model from your activity.", description: "Authenticates with a service like Spotify and uses your listening history (genres, tempo, energy) or running data (distance, elevation, pace) to generate and texture a unique 3D sculpture using Three.js, representing your personal data fingerprint.", technologies: ["Three.js", "Spotify/Strava API", "OAuth", "Procedural Geometry"] },
            { title: "Interactive Code Poetry", pitch: "A small collection of poems where the words animate and react to user interaction, implemented with clean code.", description: "Each 'poem' is a self-contained web experiment. As the user scrolls or hovers, the text might fracture, reform, follow the cursor, or change meaning, blending the lines between literature and interactive art.", technologies: ["GSAP", "HTML/CSS", "JavaScript", "Creative Writing"] },
            { title: "Web Vitals Gardener", pitch: "A calming dashboard that represents your website's performance and health as a growing digital plant.", description: "Connects to the Google PageSpeed Insights API. Good scores for performance, accessibility, and SEO make your plant grow lush and vibrant. Poor scores cause it to wilt. The goal is to 'tend' to your website's health to maintain a beautiful plant.", technologies: ["PageSpeed API", "SVG Animation", "Node.js", "Data Visualization"] },
            { title: "Dream Weave", pitch: "A collaborative, anonymous dream journal where entries are visualized as a connected galaxy of stars.", description: "Users can submit short, anonymous descriptions of their dreams. Each dream becomes a star in a navigable 3D space. The app analyzes keywords and automatically creates constellations by linking dreams with similar themes, allowing users to explore the collective subconscious.", technologies: ["Three.js", "Natural Language Processing", "Firebase/Firestore", "Profanity Filter"] },
            { title: "Rhythmic Pattern Generator", pitch: "A minimalist step-sequencer and drum machine in the browser with a focus on beautiful, synchronized visuals.", description: "A grid-based interface for creating drum patterns. Each sound played triggers a corresponding visual effect (e.g., a circle pulse, a line burst) on a central canvas, turning the beat-making process into an audiovisual performance.", technologies: ["Tone.js", "Web Audio API", "Canvas API", "UI Design"] },
            { title: "Nautical Chart Navigator", pitch: "An interactive visualization of global shipping routes and weather patterns on a 3D globe.", description: "Pulls real-time or historical shipping lane data and oceanic weather data from public APIs. Renders the routes as glowing lines on a Three.js globe, with animated textures representing wind and current patterns. Users can rotate the globe and click routes for info.", technologies: ["Three.js", "NOAA/MarineTraffic APIs", "Data Parsing", "Globe.gl"] },
            { title: "Font Morph", pitch: "A creative tool that lets you fluidly interpolate between two different fonts, with real-time control.", description: "Using variable font technology, this tool provides sliders that allow users to blend the characteristics (weight, slant, style) of two or more fonts. The result is a unique, hybrid typeface that can be animated and exported as SVG.", technologies: ["Variable Fonts", "JavaScript", "UI Sliders", "SVG"] },
            { title: "Cognitive Bias Codex", pitch: "An interactive and beautifully designed encyclopedia of cognitive biases and mental models.", description: "A single-page application that presents a curated list of cognitive biases. Each entry has a clean, minimalist design with a concise explanation and a simple, interactive animation or diagram that demonstrates the bias in action, making them easier to understand and remember.", technologies: ["Vue/React", "GSAP", "SVG Animation", "UX/UI"] },
        ];
        
        let lastIdeaIndex = -1;

        function getProjectIdea() {
            generateIdeaBtn.disabled = true;
            ideaContainer.classList.add('visible');
            ideaContainer.innerHTML = `<p class="meta" style="text-align: center;">Conjuring a concept... ✨</p>`;

            setTimeout(() => {
                let randomIndex;
                // Ensure a new idea is chosen every time
                do {
                    randomIndex = Math.floor(Math.random() * projectIdeas.length);
                } while (randomIndex === lastIdeaIndex);
                
                lastIdeaIndex = randomIndex;
                const idea = projectIdeas[randomIndex];
                displayIdea(idea);
                generateIdeaBtn.disabled = false;
            }, 1200); // Simulate network delay
        }

        function displayIdea(idea) {
            const techBadges = idea.technologies.map(tech => `<span class="badge" style="background: rgba(255,255,255,.05);">${tech}</span>`).join('');
            ideaContainer.innerHTML = `<span class="kicker">Project Concept</span><h3 class="name" style="margin: 4px 0 8px;">${idea.title}</h3><p class="meta" style="font-style: italic;">"${idea.pitch}"</p><p class="meta">${idea.description}</p><div class="tech-list" style="margin-top: 16px; display:flex; flex-wrap:wrap; gap:8px;">${techBadges}</div>`;
        }
        
        generateIdeaBtn.addEventListener('click', getProjectIdea);
    }
    
    // Initializer that runs after the DOM is loaded
    function main() {
        initGate();
        initSpaceCanvas();
        initDashboard();
        initAstroAviator();

        const io = new IntersectionObserver(entries=>{ entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('on'); io.unobserve(e.target); } }); }, {threshold:.1});
        document.querySelectorAll('.reveal').forEach(el=> io.observe(el));
        
        initAboutDeck();
        loadRepos();
        initGeminiIdeator();
        document.getElementById('year').textContent = new Date().getFullYear();
    }

    // Defer script execution until the DOM is fully loaded.
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', main);
    } else {
        main();
    }
  </script>
</body>
</html>

