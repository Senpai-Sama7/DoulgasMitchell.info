import React, { useRef, useEffect, useState } from "react";
import { motion, useScroll, useTransform, useSpring, useMotionValue } from "framer-motion";

/**
 * Douglas — Cinematic, keynote‑grade personal site
 * Single‑file React component using TailwindCSS + Framer Motion
 * No external assets. Graphics are SVG/CSS. Apple‑style motion: calm, precise, depthy.
 */

// ========= Config you can personalize =========
const GITHUB_USERNAME = "YOUR_GITHUB_USERNAME"; // ← set this
const GITHUB_PERSONAL_TOKEN = ""; // ← optional; raises rate limit + avoids CORS flakiness
const BOOK = {
  title: "Your Book Title",
  subtitle: "A calm guide to building thoughtful software",
  blurb:
    "A short, opinionated book about clarity, motion with purpose, and crafting interfaces that respectfully disappear.",
  link: "#" // e.g. Amazon/Gumroad/Personal store
};

// ---------- Little utilities
const useParallax = (value, distance = 100) => useTransform(value, [0, 1], [-distance, distance]);

function Magnetic({ children, strength = 0.35 }) {
  const ref = useRef(null);
  const x = useMotionValue(0);
  const y = useMotionValue(0);
  const rx = useSpring(x, { stiffness: 200, damping: 20 });
  const ry = useSpring(y, { stiffness: 200, damping: 20 });

  useEffect(() => {
    const el = ref.current;
    if (!el) return;
    const onMove = (e) => {
      const rect = el.getBoundingClientRect();
      const relX = (e.clientX - rect.left) / rect.width - 0.5;
      const relY = (e.clientY - rect.top) / rect.height - 0.5;
      x.set(relX * strength * rect.width);
      y.set(relY * strength * rect.height);
    };
    const onLeave = () => { x.set(0); y.set(0); };
    el.addEventListener("mousemove", onMove);
    el.addEventListener("mouseleave", onLeave);
    return () => { el.removeEventListener("mousemove", onMove); el.removeEventListener("mouseleave", onLeave); };
  }, [strength, x, y]);
  return (
    <motion.div ref={ref} style={{ x: rx, y: ry }} className="inline-block will-change-transform">
      {children}
    </motion.div>
  );
}

// ---------- Graphics primitives
function Orb({ size = 420, className = "", hue = 220 }) {
  return (
    <div className={`pointer-events-none ${className}`} aria-hidden>
      <svg width={size} height={size} viewBox={`0 0 ${size} ${size}`} className="opacity-70">
        <defs>
          <radialGradient id={`g-${hue}`} cx="50%" cy="50%" r="50%">
            <stop offset="0%" stopColor={`hsl(${hue}, 95%, 65%)`} />
            <stop offset="60%" stopColor={`hsl(${hue}, 95%, 55%)`} />
            <stop offset="100%" stopColor="transparent" />
          </radialGradient>
          <filter id={`b-${hue}`} x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur stdDeviation="30" />
          </filter>
        </defs>
        <circle cx={size/2} cy={size/2} r={size/2.4} fill={`url(#g-${hue})`} filter={`url(#b-${hue})`} />
      </svg>
    </div>
  );
}

function Noise() {
  return (
    <svg className="pointer-events-none fixed inset-0 mix-blend-soft-light opacity-[.06]" aria-hidden>
      <filter id="n">
        <feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch"/>
      </filter>
      <rect width="100%" height="100%" filter="url(#n)"/>
    </svg>
  );
}

function GridBG() {
  return (
    <svg className="absolute inset-0 w-full h-full opacity-30 [mask-image:radial-gradient(50%_50%_at_50%_50%,black_30%,transparent_70%)]" aria-hidden>
      <defs>
        <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
          <path d="M40 0H0V40" fill="none" stroke="currentColor" strokeWidth=".6" className="text-white/10"/>
        </pattern>
      </defs>
      <rect width="100%" height="100%" fill="url(#grid)" />
    </svg>
  );
}

// ---------- Sticky, parallax slide
function StickySlide({ title, eyebrow, copy, tint = "from-sky-400/30 to-violet-500/20", children }) {
  const ref = useRef(null);
  const { scrollYProgress } = useScroll({ target: ref, offset: ["start end", "end start"] });
  const opacity = useTransform(scrollYProgress, [0, 0.25, 0.75, 1], [0, 1, 1, 0]);
  const y = useTransform(scrollYProgress, [0, 1], [80, -80]);
  const scale = useTransform(scrollYProgress, [0, 0.5, 1], [0.96, 1, 0.96]);

  return (
    <section ref={ref} className="relative h-[220vh]">
      <div className="sticky top-0 h-screen overflow-hidden">
        <motion.div style={{ opacity }} className={`absolute inset-0 bg-gradient-to-br ${tint}`} />
        <GridBG />
        <div className="absolute inset-0">
          <motion.div style={{ scale, y }} className="mx-auto max-w-6xl h-full grid grid-cols-1 lg:grid-cols-2 gap-10 items-center px-6">
            <div className="relative z-10">
              <p className="text-sm uppercase tracking-[0.2em] text-white/60 mb-4">{eyebrow}</p>
              <h2 className="text-4xl sm:text-5xl lg:text-6xl font-semibold leading-[1.05] text-white mb-6">
                {title}
              </h2>
              <p className="text-white/70 text-lg leading-relaxed max-w-xl">{copy}</p>
            </div>
            <div className="relative z-0">
              {children}
            </div>
          </motion.div>
        </div>
      </div>
    </section>
  );
}

// ---------- Tilt card with glossy sheen
function TiltCard({ children }) {
  const ref = useRef(null);
  const [shine, setShine] = useState({ x: 50, y: 50 });

  const onMove = (e) => {
    const rect = ref.current.getBoundingClientRect();
    const px = (e.clientX - rect.left) / rect.width;
    const py = (e.clientY - rect.top) / rect.height;
    setShine({ x: px * 100, y: py * 100 });
    const rx = (py - 0.5) * -10; // rotateX
    const ry = (px - 0.5) * 12;  // rotateY
    ref.current.style.transform = `perspective(800px) rotateX(${rx}deg) rotateY(${ry}deg)`;
  };
  const onLeave = () => { ref.current.style.transform = "perspective(800px) rotateX(0deg) rotateY(0deg)"; };

  return (
    <div
      ref={ref}
      onMouseMove={onMove}
      onMouseLeave={onLeave}
      className="relative rounded-3xl bg-gradient-to-br from-white/10 to-white/5 border border-white/10 backdrop-blur-xl p-8 shadow-[0_10px_40px_-10px_rgba(0,0,0,0.5)] transition-transform will-change-transform"
      style={{ transformStyle: "preserve-3d" }}
    >
      <div
        className="pointer-events-none absolute inset-0 rounded-3xl"
        style={{
          background: `radial-gradient(60% 60% at ${shine.x}% ${shine.y}%, rgba(255,255,255,0.35), transparent 60%)`,
          mixBlendMode: "overlay",
          transform: "translateZ(50px)",
        }}
      />
      <div style={{ transform: "translateZ(40px)" }}>{children}</div>
    </div>
  );
}

// ---------- Hero with kinetic gradient text + floating orbs
function Hero() {
  const ref = useRef(null);
  const { scrollYProgress } = useScroll({ target: ref, offset: ["start start", "end start"] });
  const yTitle = useParallax(scrollYProgress, 80);
  const ySub = useParallax(scrollYProgress, 40);
  const fade = useTransform(scrollYProgress, [0, 0.8], [1, 0]);

  return (
    <header ref={ref} className="relative isolate h-[120svh] flex items-center justify-center overflow-hidden">
      <motion.div style={{ opacity: fade }} className="absolute inset-0 -z-10">
        <div className="absolute -top-24 -left-24">
          <motion.div animate={{ y: [0, 30, 0], x: [0, 20, 0] }} transition={{ duration: 20, repeat: Infinity, ease: "easeInOut" }}>
            <Orb size={520} hue={210} />
          </motion.div>
        </div>
        <div className="absolute bottom-0 right-0">
          <motion.div animate={{ y: [0, -40, 0], x: [0, -30, 0] }} transition={{ duration: 26, repeat: Infinity, ease: "easeInOut" }}>
            <Orb size={460} hue={270} />
          </motion.div>
        </div>
        <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
          <motion.div animate={{ scale: [1, 1.06, 1] }} transition={{ duration: 18, repeat: Infinity, ease: "easeInOut" }}>
            <Orb size={600} hue={320} />
          </motion.div>
        </div>
      </motion.div>

      <div className="absolute inset-0 bg-[radial-gradient(80%_60%_at_50%_0%,rgba(255,255,255,0.10),transparent_60%)]"/>
      <GridBG />

      <div className="relative z-10 text-center px-6 max-w-5xl">
        <motion.h1 style={{ y: yTitle }} className="text-[clamp(2.6rem,6vw,6rem)] font-semibold leading-[0.95] tracking-tight">
          <span className="block text-white/70 text-lg sm:text-xl mb-3 font-medium">Douglas</span>
          <span className="bg-clip-text text-transparent bg-[conic-gradient(from_180deg_at_50%_50%,#fff_0deg,#cde1ff_120deg,#f0d3ff_240deg,#fff_360deg)] [--tw:linear-gradient(90deg,rgba(255,255,255,.8),rgba(255,255,255,.2)_60%,rgba(255,255,255,.8))] [background-size:200%_200%] animate-[spin_20s_linear_infinite]">
            Building calm, delightful software.
          </span>
        </motion.h1>
        <motion.p style={{ y: ySub }} className="mt-6 text-white/70 text-lg sm:text-xl max-w-2xl mx-auto">
          Product engineer focused on clarity, precision, and motion with purpose.
        </motion.p>
        <div className="mt-10 flex items-center justify-center gap-4">
          <Magnetic>
            <a href="#work" className="group relative inline-flex items-center gap-3 rounded-full px-6 py-3 text-sm font-medium bg-white text-black transition-all overflow-hidden">
              <span className="relative z-10">See work</span>
              <span className="relative z-10">→</span>
              <span className="absolute inset-0 bg-gradient-to-r from-black/10 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"/>
            </a>
          </Magnetic>
          <a href="#github" className="rounded-full px-6 py-3 text-sm font-medium border border-white/20 text-white/80 hover:text-white/100 hover:border-white/40 transition">
            GitHub
          </a>
          <a href="#book" className="rounded-full px-6 py-3 text-sm font-medium border border-white/20 text-white/80 hover:text-white/100 hover:border-white/40 transition">
            Book
          </a>
        </div>
      </div>
    </header>
  );
}

// ---------- Work card (animated in list)
function WorkCard({ title, body, tag }) {
  return (
    <TiltCard>
      <div className="space-y-4">
        <div className="flex items-center gap-2">
          <span className="px-2 py-1 rounded-full text-[10px] uppercase tracking-wider bg-white/10 text-white/70 border border-white/10">{tag}</span>
        </div>
        <h3 className="text-2xl sm:text-3xl font-semibold text-white">{title}</h3>
        <p className="text-white/70 leading-relaxed">{body}</p>
      </div>
    </TiltCard>
  );
}

// ---------- Footer
function Footer() {
  return (
    <footer id="contact" className="relative overflow-hidden">
      <div className="absolute inset-0 bg-gradient-to-b from-transparent via-white/5 to-white/10" />
      <div className="max-w-6xl mx-auto px-6 py-20">
        <div className="text-center">
          <h4 className="text-4xl sm:text-5xl font-semibold text-white mb-6">Let's build something thoughtful.</h4>
          <div className="flex items-center justify-center gap-4">
            <a href="mailto:hello@douglas.dev" className="rounded-full px-6 py-3 bg-white text-black font-medium">hello@douglas.dev</a>
            <a href="#" className="rounded-full px-6 py-3 border border-white/20 text-white/80 hover:text-white hover:border-white/40">LinkedIn</a>
            <a href={`https://github.com/${GITHUB_USERNAME || ''}`} className="rounded-full px-6 py-3 border border-white/20 text-white/80 hover:text-white hover:border-white/40">GitHub</a>
          </div>
        </div>
      </div>
    </footer>
  );
}

// ---------- GitHub section (live via REST API)
function GitHubSection() {
  const [profile, setProfile] = useState(null);
  const [repos, setRepos] = useState([]);
  const [state, setState] = useState("loading"); // loading | ready | error

  useEffect(() => {
    if (!GITHUB_USERNAME) return setState("error");
    const headers = GITHUB_PERSONAL_TOKEN ? { Authorization: `Bearer ${GITHUB_PERSONAL_TOKEN}` } : {};

    async function load() {
      try {
        const [userRes, repoRes] = await Promise.all([
          fetch(`https://api.github.com/users/${GITHUB_USERNAME}`, { headers }),
          fetch(`https://api.github.com/users/${GITHUB_USERNAME}/repos?per_page=100`, { headers })
        ]);
        if (!userRes.ok || !repoRes.ok) throw new Error("GitHub API error");
        const user = await userRes.json();
        let list = await repoRes.json();
        list = list
          .filter(r => !r.fork)
          .sort((a, b) => (b.stargazers_count || 0) - (a.stargazers_count || 0))
          .slice(0, 6);
        setProfile(user);
        setRepos(list);
        setState("ready");
      } catch (e) {
        console.error(e);
        setState("error");
      }
    }
    load();
  }, []);

  return (
    <section id="github" className="relative py-28">
      <div className="absolute inset-0 bg-gradient-to-b from-transparent via-white/[0.04] to-transparent" />
      <div className="max-w-6xl mx-auto px-6">
        <div className="mb-10 flex items-end justify-between gap-6 flex-wrap">
          <div>
            <h2 className="text-4xl sm:text-5xl font-semibold">GitHub</h2>
            <p className="text-white/70 mt-3">Live repo data from the GitHub API — most‑starred first.</p>
          </div>
          {profile && (
            <a
              href={profile.html_url}
              className="rounded-full px-5 py-3 border border-white/20 text-white/80 hover:text-white hover:border-white/40"
            >
              @{profile.login} • {profile.followers} followers
            </a>
          )}
        </div>

        {state === "loading" && (
          <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
            {Array.from({ length: 6 }).map((_, i) => (
              <div key={i} className="rounded-3xl border border-white/10 bg-white/5 h-40 animate-pulse" />
            ))}
          </div>
        )}

        {state === "error" && (
          <div className="text-white/70">Couldn't reach GitHub. Set <code>GITHUB_USERNAME</code> (and optional token) in the file.</div>
        )}

        {state === "ready" && (
          <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
            {repos.map((r) => (
              <TiltCard key={r.id}>
                <div className="flex items-start justify-between gap-4">
                  <div>
                    <a href={r.html_url} className="text-2xl sm:text-3xl font-semibold text-white hover:underline">{r.name}</a>
                    <p className="text-white/70 mt-2 leading-relaxed line-clamp-3">{r.description || "No description provided."}</p>
                    <div className="mt-4 flex items-center gap-4 text-white/60 text-sm">
                      <span>★ {r.stargazers_count}</span>
                      <span>⑂ {r.forks_count}</span>
                      <span className="truncate">Updated {new Date(r.updated_at).toLocaleDateString()}</span>
                    </div>
                  </div>
                  <div className="shrink-0">
                    <motion.div initial={{ opacity: 0, scale: .96 }} whileInView={{ opacity: 1, scale: 1 }} viewport={{ once: true }}
                      className="px-3 py-2 rounded-xl border border-white/10 bg-white/5 text-xs text-white/70">
                      {r.language || "—"}
                    </motion.div>
                  </div>
                </div>
              </TiltCard>
            ))}
          </div>
        )}
      </div>
    </section>
  );
}

// ---------- Book section (callout)
function BookSection() {
  return (
    <section id="book" className="relative py-28">
      <div className="absolute inset-0 bg-gradient-to-b from-transparent via-white/[0.04] to-transparent" />
      <div className="max-w-6xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 gap-10 items-center">
        <div className="order-2 lg:order-1">
          <h2 className="text-4xl sm:text-5xl font-semibold">{BOOK.title}</h2>
          <p className="text-white/60 mt-2">{BOOK.subtitle}</p>
          <p className="text-white/70 mt-6 leading-relaxed max-w-xl">{BOOK.blurb}</p>
          <div className="mt-8 flex gap-4">
            <a href={BOOK.link} className="rounded-full px-6 py-3 bg-white text-black font-medium">Read / Buy</a>
            <a href="#contact" className="rounded-full px-6 py-3 border border-white/20 text-white/80 hover:text-white hover:border-white/40">Invite me to speak</a>
          </div>
        </div>
        <div className="order-1 lg:order-2">
          <TiltCard>
            <div className="aspect-[3/4] w-full max-w-sm mx-auto rounded-2xl overflow-hidden border border-white/10 bg-gradient-to-br from-white/15 to-white/5 relative">
              <motion.div
                className="absolute inset-0"
                animate={{ backgroundPosition: ["0% 0%", "100% 100%", "0% 0%"] }}
                transition={{ duration: 16, repeat: Infinity, ease: "easeInOut" }}
                style={{ backgroundImage: "radial-gradient(60% 80% at 0% 0%, rgba(180,220,255,.18), transparent 60%), radial-gradient(60% 80% at 100% 100%, rgba(255,180,220,.18), transparent 60%)", backgroundSize: "200% 200%" }}
              />
              <div className="relative z-10 h-full flex flex-col items-center justify-center text-center p-10">
                <p className="text-sm tracking-[0.2em] uppercase text-white/60">Book</p>
                <h3 className="text-3xl font-semibold mt-2">{BOOK.title}</h3>
                <p className="text-white/70 mt-3">{BOOK.subtitle}</p>
              </div>
            </div>
          </TiltCard>
        </div>
      </div>
    </section>
  );
}

// ---------- Conversation insights (from our work together)
function ConversationInsights() {
  const items = [
    { k: "Keynote‑grade motion", v: "Calm, cinematic transitions that guide attention without distraction." },
    { k: "Nobody‑style minimalism", v: "Austere layout that defers to content and makes type do the work." },
    { k: "Clarity first", v: "Hierarchy via space, contrast and depth; copy stays concise and confident." },
    { k: "Tactile details", v: "Parallax, tilt, and sheen used sparingly for a premium feel." },
  ];
  return (
    <section id="insights" className="relative py-24">
      <div className="max-w-6xl mx-auto px-6">
        <h2 className="text-3xl sm:text-4xl font-semibold">From our conversations</h2>
        <p className="text-white/70 mt-3">What keeps showing up as your signature.</p>
        <div className="mt-10 grid grid-cols-1 md:grid-cols-2 gap-6">
          {items.map((it, i) => (
            <TiltCard key={i}>
              <div className="flex items-start gap-4">
                <div className="mt-1 h-2 w-2 rounded-full bg-white/70" />
                <div>
                  <p className="text-xl font-semibold">{it.k}</p>
                  <p className="text-white/70 mt-2">{it.v}</p>
                </div>
              </div>
            </TiltCard>
          ))}
        </div>
      </div>
    </section>
  );
}

export default function Douglas() {
  // Page scroll progress for global sheen
  const { scrollYProgress } = useScroll();
  const glossY = useTransform(scrollYProgress, [0, 1], ["-30%", "130%"]);

  return (
    <main className="text-white bg-[#0b0c10] min-h-[100svh] relative">
      <Noise />
      {/* Global subtle sheen that sweeps on scroll (very keynote) */}
      <motion.div
        aria-hidden
        style={{ top: glossY }}
        className="pointer-events-none fixed left-0 right-0 h-64 -z-10 bg-[linear-gradient(180deg,rgba(255,255,255,0.05),transparent_60%)]"
      />

      {/* Nav */}
      <nav className="sticky top-0 z-40 backdrop-blur-xl bg-black/30 border-b border-white/10">
        <div className="max-w-6xl mx-auto px-6 h-14 flex items-center justify-between">
          <a href="#home" className="font-semibold tracking-tight">Douglas</a>
          <div className="hidden sm:flex items-center gap-6 text-white/70 text-sm">
            <a href="#work" className="hover:text-white">Work</a>
            <a href="#approach" className="hover:text-white">Approach</a>
            <a href="#github" className="hover:text-white">GitHub</a>
            <a href="#book" className="hover:text-white">Book</a>
            <a href="#contact" className="hover:text-white">Contact</a>
          </div>
        </div>
      </nav>

      {/* Hero */}
      <Hero />

      {/* Sticky slides */}
      <section id="approach" className="relative">
        <StickySlide
          eyebrow="Principle One"
          title="Deference to content."
          copy="Interfaces recede so your message shines. Motion helps orient, never distract."
          tint="from-sky-500/20 to-cyan-400/10"
        >
          <div className="relative">
            <WorkPhoneMock title="Signals stay subtle" subtitle="Haptics, blur, depth" />
          </div>
        </StickySlide>
        <StickySlide
          eyebrow="Principle Two"
          title="Clarity over clutter."
          copy="Type, spacing, and contrast do the heavy lifting. Transitions are measured and intentional."
          tint="from-fuchsia-500/20 to-indigo-500/10"
        >
          <motion.div initial={{ opacity: 0, y: 20 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }}>
            <DashboardMock />
          </motion.div>
        </StickySlide>
        <StickySlide
          eyebrow="Principle Three"
          title="Depth provides hierarchy."
          copy="Parallax, scale, and blur create layers—like a camera moving through space."
          tint="from-amber-500/20 to-rose-500/10"
        >
          <LayersMock />
        </StickySlide>
      </section>

      {/* Work */}
      <section id="work" className="relative py-28">
        <div className="absolute inset-0 bg-gradient-to-b from-transparent via-white/[0.04] to-transparent" />
        <div className="max-w-6xl mx-auto px-6">
          <div className="mb-10">
            <h2 className="text-4xl sm:text-5xl font-semibold">Selected Work</h2>
            <p className="text-white/70 mt-3">Hover for depth; everything responds with intent.</p>
          </div>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
            <WorkCard title="OmniOS — Service Platform" tag="Platform" body="A unified OS for field teams. Offline‑first, buttery navigation, and diagnostics that feel invisible." />
            <WorkCard title="Haven — Wellness App" tag="Mobile" body="Gentle onboarding, rhythmic micro‑animations, and typography that breathes." />
            <WorkCard title="ArcJet — Analytics" tag="Web" body="Keynote‑style reveals, dimensional charts, and scroll‑driven storytelling." />
            <WorkCard title="Solace — Energy" tag="IoT" body="Crisp controls, live telemetry, and considered motion states for trust." />
          </div>
        </div>
      </section>

      {/* Book */}
      <BookSection />

      {/* GitHub live section */}
      <GitHubSection />

      {/* Conversation insights */}
      <ConversationInsights />

      <Footer />
    </main>
  );
}

// ---------- Mock components (pure CSS/SVG so code is self‑contained)
function WorkPhoneMock({ title = "", subtitle = "" }) {
  return (
    <div className="mx-auto w-[280px] h-[560px] rounded-[48px] p-3 bg-gradient-to-br from-white/10 to-white/5 border border-white/10 backdrop-blur-xl shadow-[0_30px_80px_-20px_rgba(0,0,0,.6)]">
      <div className="h-full rounded-[36px] overflow-hidden relative bg-black/60">
        <div className="absolute top-3 left-1/2 -translate-x-1/2 w-28 h-6 bg-black/60 rounded-full"/>
        <motion.div
          className="absolute inset-0"
          animate={{ backgroundPosition: ["0% 0%", "100% 100%", "0% 0%"] }}
          transition={{ duration: 14, repeat: Infinity, ease: "easeInOut" }}
          style={{ backgroundImage: "radial-gradient(60% 80% at 0% 0%, rgba(180,220,255,.18), transparent 60%), radial-gradient(60% 80% at 100% 100%, rgba(255,180,220,.18), transparent 60%)", backgroundSize: "200% 200%" }}
        />
        <div className="relative z-10 p-5">
          <div className="h-56 rounded-2xl overflow-hidden border border-white/10 bg-white/5">
            <motion.div
              className="w-full h-full"
              initial={{ scale: 1.1, opacity: 0 }}
              animate={{ scale: 1, opacity: 1 }}
              transition={{ duration: 1.2, ease: [0.22, 1, 0.36, 1] }}
              style={{ backgroundImage: "linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,0))" }}
            />
          </div>
          <div className="mt-5 space-y-2">
            <div className="h-4 w-24 bg-white/20 rounded" />
            <div className="h-3 w-40 bg-white/10 rounded" />
          </div>
          <div className="mt-6 grid grid-cols-3 gap-3">
            {[...Array(6)].map((_, i) => (
              <motion.div key={i} className="h-10 rounded-xl bg-white/10 border border-white/10" whileHover={{ scale: 1.04 }} />
            ))}
          </div>
          <div className="absolute bottom-4 left-0 right-0 text-center">
            <p className="text-white/70 text-sm font-medium">{title}</p>
            <p className="text-white/50 text-xs">{subtitle}</p>
          </div>
        </div>
      </div>
    </div>
  );
}

function DashboardMock() {
  return (
    <div className="mx-auto max-w-xl">
      <TiltCard>
        <div className="relative">
          <div className="grid grid-cols-12 gap-4">
            <div className="col-span-8 h-40 rounded-2xl bg-white/10 border border-white/10 overflow-hidden">
              <motion.div initial={{ opacity: 0, y: 10 }} whileInView={{ opacity: 1, y: 0 }} viewport={{ once: true }} className="h-full">
                <svg viewBox="0 0 400 160" className="w-full h-full">
                  <defs>
                    <linearGradient id="lg" x1="0" x2="1" y1="0" y2="0">
                      <stop offset="0%" stopColor="rgba(255,255,255,.1)" />
                      <stop offset="100%" stopColor="rgba(255,255,255,.6)" />
                    </linearGradient>
                  </defs>
                  <path d="M0,120 C80,80 120,140 180,100 C240,60 280,110 340,70 C360,60 380,50 400,60" fill="none" stroke="url(#lg)" strokeWidth="3" />
                </svg>
              </motion.div>
            </div>
            <div className="col-span-4 h-40 rounded-2xl bg-white/10 border border-white/10 flex items-center justify-center">
              <div className="text-center">
                <p className="text-3xl font-semibold">98%</p>
                <p className="text-white/60 text-xs">Satisfaction</p>
              </div>
            </div>
            {[...Array(4)].map((_, i) => (
              <div key={i} className="col-span-3 h-24 rounded-2xl bg-white/10 border border-white/10" />
            ))}
          </div>
        </div>
      </TiltCard>
    </div>
  );
}

function LayersMock() {
  return (
    <div className="mx-auto max-w-xl perspective-[1000px]">
      <div className="relative h-96">
        {["40","30","20"].map((z, i) => (
          <motion.div
            key={i}
            className="absolute inset-0 rounded-3xl border border-white/10 bg-white/5 backdrop-blur-xl"
            style={{ translateZ: `${(i+1)*40}px`, transformStyle: "preserve-3d" }}
            animate={{ y: [0, -10, 0] }}
            transition={{ duration: 6 + i, repeat: Infinity, ease: "easeInOut" }}
          >
            <div className="absolute inset-0 rounded-3xl bg-gradient-to-br from-white/10 to-transparent" />
          </motion.div>
        ))}
      </div>
    </div>
  );
}
